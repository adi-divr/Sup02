(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[698],{9209:(e,A,a)=>{Promise.resolve().then(a.bind(a,8458))},8458:(e,A,a)=>{"use strict";a.r(A),a.d(A,{default:()=>i});var s=a(5155),t=a(2115);a(1511);var n=a(5565),o=a(1760);let r={src:"/<Sup02>/_next/static/media/next.6fc680d4.png",height:26,width:60,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAADCAMAAACZFr56AAAAElBMVEUBAQAKCQYAAAAAAAAAAAApJBbTwxATAAAABHRSTlP39pSY8pITjgAAAAlwSFlzAAALEwAACxMBAJqcGAAAAB9JREFUeJwVyLENAAAIw7BQ0v9fRng0gRkIaKuw/rgHAkkAMXX/0ZsAAAAASUVORK5CYII=",blurWidth:8,blurHeight:3};var l=a(6046);let c=()=>{let[e,A]=(0,t.useState)([]),[a,c]=(0,t.useState)(""),i=(0,l.useRouter)();(0,t.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/GetData");if(!e.ok)throw Error("Failed to fetch data");let a=await e.json();console.log(a);let s=a.data.slice(1).map(e=>({name:e[0]||"",email:e[1]||"",phone:e[2]||"",slot:e[5]||"",ddmm:e[6]||"",bookingDate:e[7]||""}));A(s)}catch(e){e instanceof Error?c(e.message):c("An unknown error occurred")}})()},[]);let d=(e,A,a)=>{i.push("/adminConfirm?name=".concat(encodeURIComponent(e),"&slot=").concat(encodeURIComponent(A),"&bookingdate=").concat(encodeURIComponent(a)))};return(0,s.jsxs)("div",{className:"admin-container",children:[(0,s.jsxs)("div",{className:"header",children:[(0,s.jsx)(n.default,{src:o.A,alt:"Logo",className:"logo"}),(0,s.jsx)("h2",{children:"Manage Bookings"}),(0,s.jsx)("button",{className:"custom-button",onClick:()=>{console.log("Custom button clicked!"),i.push("/adminCalendar")},children:"Calendar"})]}),a?(0,s.jsx)("p",{className:"error",children:a}):(0,s.jsx)("div",{className:"booking-list",children:e.map((e,A)=>(0,s.jsxs)("div",{className:"booking-card",children:[(0,s.jsxs)("div",{className:"card-header",children:[(0,s.jsxs)("span",{children:["Total Slots: ",e.slot]}),(0,s.jsx)("span",{children:e.bookingDate})]}),(0,s.jsxs)("div",{className:"card-details",children:[(0,s.jsx)("p",{children:(0,s.jsx)("strong",{children:e.name})}),(0,s.jsxs)("p",{children:[(0,s.jsx)("i",{className:"fa fa-phone"})," ",e.phone]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("i",{className:"fa fa-envelope"})," ",e.email]})]}),(0,s.jsx)("button",{className:"next-button",onClick:()=>d(e.name,e.slot,e.bookingDate),children:(0,s.jsx)(n.default,{src:r,alt:"Next"})})]},A))})]})},i=()=>(0,s.jsx)(c,{})},6046:(e,A,a)=>{"use strict";var s=a(6658);a.o(s,"useRouter")&&a.d(A,{useRouter:function(){return s.useRouter}}),a.o(s,"useSearchParams")&&a.d(A,{useSearchParams:function(){return s.useSearchParams}})},1511:()=>{},1760:(e,A,a)=>{"use strict";a.d(A,{A:()=>s});let s={src:"/<Sup02>/_next/static/media/logo.dbc2b4d9.png",height:99,width:115,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAHCAMAAAACh/xsAAAAG1BMVEVMaXEhGBL2eTrwdDoMDAwnGhL2Vzj/nT6XTSgH+lRRAAAACXRSTlMAJRtGTk11cx8rtz1lAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIklEQVR4nGNgQAJMTFAGMzNUgI0dIsTIysoIYbCwQBgQAAAFpAAy6yQnpAAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:7}}},e=>{var A=A=>e(e.s=A);e.O(0,[102,565,441,517,358],()=>A(9209)),_N_E=e.O()}]);