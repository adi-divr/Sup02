(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{454:(e,a,s)=>{Promise.resolve().then(s.bind(s,6259))},8458:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>i});var t=s(5155),n=s(2115);s(1511);var l=s(5565),r=s(1760);let A={src:"/Sup02/_next/static/media/next.6fc680d4.png",height:26,width:60,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAADCAMAAACZFr56AAAAElBMVEUBAQAKCQYAAAAAAAAAAAApJBbTwxATAAAABHRSTlP39pSY8pITjgAAAAlwSFlzAAALEwAACxMBAJqcGAAAAB9JREFUeJwVyLENAAAIw7BQ0v9fRng0gRkIaKuw/rgHAkkAMXX/0ZsAAAAASUVORK5CYII=",blurWidth:8,blurHeight:3};var c=s(6046);let o=()=>{let[e,a]=(0,n.useState)([]),[s,o]=(0,n.useState)(""),i=(0,c.useRouter)();(0,n.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/GetData");if(!e.ok)throw Error("Failed to fetch data");let s=await e.json();console.log(s);let t=s.data.slice(1).map(e=>({name:e[0]||"",email:e[1]||"",phone:e[2]||"",slot:e[5]||"",ddmm:e[6]||"",bookingDate:e[7]||""}));a(t)}catch(e){e instanceof Error?o(e.message):o("An unknown error occurred")}})()},[]);let d=(e,a,s)=>{i.push("/adminConfirm?name=".concat(encodeURIComponent(e),"&slot=").concat(encodeURIComponent(a),"&bookingdate=").concat(encodeURIComponent(s)))};return(0,t.jsxs)("div",{className:"admin-container",children:[(0,t.jsxs)("div",{className:"header",children:[(0,t.jsx)(l.default,{src:r.A,alt:"Logo",className:"logo"}),(0,t.jsx)("h2",{children:"Manage Bookings"}),(0,t.jsx)("button",{className:"custom-button",onClick:()=>{console.log("Custom button clicked!"),i.push("/adminCalendar")},children:"Calendar"})]}),s?(0,t.jsx)("p",{className:"error",children:s}):(0,t.jsx)("div",{className:"booking-list",children:e.map((e,a)=>(0,t.jsxs)("div",{className:"booking-card",children:[(0,t.jsxs)("div",{className:"card-header",children:[(0,t.jsxs)("span",{children:["Total Slots: ",e.slot]}),(0,t.jsx)("span",{children:e.bookingDate})]}),(0,t.jsxs)("div",{className:"card-details",children:[(0,t.jsx)("p",{children:(0,t.jsx)("strong",{children:e.name})}),(0,t.jsxs)("p",{children:[(0,t.jsx)("i",{className:"fa fa-phone"})," ",e.phone]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("i",{className:"fa fa-envelope"})," ",e.email]})]}),(0,t.jsx)("button",{className:"next-button",onClick:()=>d(e.name,e.slot,e.bookingDate),children:(0,t.jsx)(l.default,{src:A,alt:"Next"})})]},a))})]})},i=()=>(0,t.jsx)(o,{})},6259:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>i});var t=s(5155),n=s(2115),l=s(6046),r=s(5565),A=s(1760);s(2157);let c=()=>{let[e,a]=(0,n.useState)(new Date().getMonth()),[s,c]=(0,n.useState)(new Date().getFullYear()),o=(0,l.useRouter)(),i=a=>{let t=new Date(s,e,a).toLocaleDateString("en-CA");o.push("/slotbooking?selectedDate=".concat(t))};return(0,t.jsxs)("div",{className:"calendar-page",children:[(0,t.jsxs)("div",{className:"calendar-header-logo",children:[(0,t.jsx)("div",{className:"logo",children:(0,t.jsx)(r.default,{src:A.A,alt:"Logo",width:150,height:150})}),(0,t.jsx)("h3",{children:"When are you joining us?"})]}),(0,t.jsxs)("div",{className:"calendar-container",children:[(0,t.jsx)("div",{className:"calendar-header",children:(0,t.jsxs)("div",{className:"month-navigation",children:[(0,t.jsx)("button",{onClick:()=>{0===e?(a(11),c(e=>e-1)):a(e=>e-1)},children:"<"}),(0,t.jsxs)("span",{children:[["January","February","March","April","May","June","July","August","September","October","November","December"][e]," ",s]}),(0,t.jsx)("button",{onClick:()=>{11===e?(a(0),c(e=>e+1)):a(e=>e+1)},children:">"})]})}),(0,t.jsx)("div",{className:"calendar-grid",children:Array.from({length:new Date(s,e+1,0).getDate()},(e,a)=>a+1).map(e=>(0,t.jsx)("button",{className:"calendar-day",onClick:()=>i(e),children:e},e))})]})]})};var o=s(8458);let i=()=>{let[e,a]=(0,n.useState)(null);return((0,n.useEffect)(()=>{a("true"===new URLSearchParams(window.location.search).get("isadmin"))},[]),null===e)?(0,t.jsx)("div",{children:"Loading..."}):(0,t.jsx)("div",{children:e?(0,t.jsx)(o.default,{}):(0,t.jsx)(c,{})})}},6046:(e,a,s)=>{"use strict";var t=s(6658);s.o(t,"useRouter")&&s.d(a,{useRouter:function(){return t.useRouter}}),s.o(t,"useSearchParams")&&s.d(a,{useSearchParams:function(){return t.useSearchParams}})},2157:()=>{},1511:()=>{},1760:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t={src:"/Sup02/_next/static/media/logo.dbc2b4d9.png",height:99,width:115,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAHCAMAAAACh/xsAAAAG1BMVEVMaXEhGBL2eTrwdDoMDAwnGhL2Vzj/nT6XTSgH+lRRAAAACXRSTlMAJRtGTk11cx8rtz1lAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIklEQVR4nGNgQAJMTFAGMzNUgI0dIsTIysoIYbCwQBgQAAAFpAAy6yQnpAAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:7}}},e=>{var a=a=>e(e.s=a);e.O(0,[20,102,565,441,517,358],()=>a(454)),_N_E=e.O()}]);